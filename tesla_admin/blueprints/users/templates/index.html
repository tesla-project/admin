{% extends "layout.html" %}
{% block title %}{{ _('User Management')}}{% endblock %}
{% block header_css %}
    <!--
  ~ TeSLA Admin
  ~ Copyright (C) 2019 Universitat Oberta de Catalunya
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<link rel="stylesheet" href="{{ url_for('static', filename='vendor/bootstrap-table/bootstrap-table.min.css') }}">
{% endblock %}

{% block sections %}
    <section class="dashboard-counts no-padding-bottom">
        <div class="row bg-white has-shadow">
            {% include "items/dashboard_count_item.html" %}
            <div class="col-4 col-xl-9 col-sm-6">
                <div class="text-right" style="margin-top:20px;">
                    <button type="button" data-entity-id="0" class="btn btn-xs btn-success btn-addedit"><i class="fa fa-plus"></i> {{ _('New user') }}</button>
                </div>
            </div>

        </div>
    </section>
    <section class="dashboard-counts no-padding-bottom">
        <div class="row bg-white has-shadow">
            <table class="table table-striped table-hover" id="table" data-toggle="table" data-url="{{ url_for('users.list_ajax') }}" data-pagination="true" data-search="true" data-side-pagination="server" data-page-list="[10, 25, 50, 100]">
                <thead>
                <tr>
                    <th data-field="id" data-sortable="true">#</th>
                    <th data-field="email" data-align="left" data-sortable="true">{{ _('Email') }}</th>
                    <th data-field="username" data-align="left" data-sortable="true">{{_('Username') }}</th>
                    <th data-field="active" data-formatter="active_format" data-sortable="true">{{ _('Active') }}</th>
                    <th data-field="actions" data-formatter="actions_format">{{ _('Actions') }}</th>
                </tr>
                </thead>
            </table>
        </div>
    </section>

    <div class="modal" tabindex="-1" role="dialog" id="entity_delete">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{{ _('Delete user') }}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>{{ _('Are you sure?') }}</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">{{ _('Close') }}</button>
                    <a id="button_entity_delete" href="#" class="btn btn-danger">{{ _('Save changes') }}</a>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" tabindex="-1" role="dialog" id="entity_addedit">
        <div class="modal-dialog">
            <div class="modal-content">

            </div>
        </div>
    </div>
{% endblock %}
{% block body_scripts %}
    <script src="{{ url_for('static', filename='vendor/bootstrap-table/bootstrap-table.min.js') }}"></script>
    <script src="{{ url_for('static', filename='vendor/bootstrap-table/locale/bootstrap-table-en-US.js') }}"></script>
    <script src="{{ url_for('users.static', filename='js/user_list.js')}}"></script>
{% endblock %}