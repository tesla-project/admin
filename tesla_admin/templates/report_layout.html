<!--
  ~ TeSLA Admin
  ~ Copyright (C) 2019 Universitat Oberta de Catalunya
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>{{ _('TeSLA Administration Portal') }}</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="robots" content="all,follow">

        {% if option_local_libs %}
            <!-- Bootstrap CSS-->
            <link rel="stylesheet" href="{{ url_for('static', filename='vendor/bootstrap/css/bootstrap.min.css') }}">
            <!-- Font Awesome CSS-->
            <link rel="stylesheet" href="{{ url_for('static', filename='vendor/font-awesome/css/fontawesome-all.min.css') }}">
            <!-- Fontastic Custom icon font-->
            <link rel="stylesheet" href="{{ url_for('static', filename='css/fontastic.css') }}">
            <!-- Google fonts - Poppins -->
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,700">
            <!-- Ladda-->
            <link rel="stylesheet" href="{{ url_for('static', filename='vendor/ladda/ladda-themeless.min.css') }}">
            <!-- Bootstrap multi-select -->
            <link rel="stylesheet" href="{{ url_for('static', filename='vendor/bootstrap-select/css/bootstrap-select.min.css') }}">
            <link rel="stylesheet" href="{{ url_for('static', filename='vendor/messenger-hubspot/build/css/messenger.css') }}">
            <link rel="stylesheet" href="{{ url_for('static', filename='vendor/messenger-hubspot/build/css/messenger-theme-flat.css') }}">
            <link rel="stylesheet" href="{{ url_for('static', filename='vendor/select2/css/select2.min.css') }}">
        {% else %}
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha256-NJWeQ+bs82iAeoT5Ktmqbi3NXwxcHlfaVejzJI2dklU=" crossorigin="anonymous" />
            <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">
            <link rel="stylesheet" href="{{ url_for('static', filename='css/fontastic.css') }}">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,700">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Ladda/1.0.6/ladda-themeless.min.css" integrity="sha256-4E9F1QhvHIiZ9l+3Dev+wZFyP3GQJXmXqR+TY0hJNDM=" crossorigin="anonymous" />
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/css/bootstrap-select.min.css" integrity="sha256-/us3egi2cVp0mEkVR8cnqLsuDY6BmrDuvTPUuEr1HJQ=" crossorigin="anonymous" />
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/messenger/1.5.0/css/messenger.min.css" integrity="sha256-s9TkqCOAYSX0OL0SFkn9uuNWdDLIXKMUV0ZICMxDBC8=" crossorigin="anonymous" />
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/messenger/1.5.0/css/messenger-theme-flat.min.css" integrity="sha256-df2/p3zqYeL+pfySX1EcefsxpK3nv9JrCXl7/k7pkJo=" crossorigin="anonymous" />
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.5/css/select2.min.css" integrity="sha256-xJOZHfpxLR/uhh1BwYFS5fhmOAdIRQaiOul5F/b7v3s=" crossorigin="anonymous" />
        {% endif %}
        <!-- Favicon-->
        <link rel="shortcut icon" href="{{ url_for('static', filename='img/favicon.ico') }}">

        {% block header_css %}
        {% endblock %}

        <!-- Reports stylesheet -->
        <link rel="stylesheet" href="{{ url_for('static', filename='css/reports.css') }}">

        <!-- Custom stylesheet - for your changes-->
        <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}">

        <!-- Tweaks for older IEs--><!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->

        {{ JSGlue.include() }}
        {% block header_scripts %}
        {% endblock %}
    </head>
    <body>
        <div id="shadow-container" class="shadow-container">
            <div class="page-content d-flex align-items-stretch">
                <div class="content-inner">
                    <!-- Page Header-->
                    {% include "report_header.html" %}

                    <!-- Dashboard Sections-->
                    <main>
                        <div class="container-fluid">
                            {% block sections %}
                            {% endblock %}
                        </div>
                    </main>
                </div>
            </div>
        </div>
        <!-- Page Footer-->
        <div class="footer-separator"></div>
        {% include "report_footer.html" %}
        <!-- Javascript files-->
        {% if option_local_libs %}
            <script src="{{ url_for('static', filename='vendor/jquery/jquery.min.js') }}"></script>
            <script src="{{ url_for('static', filename='vendor/popper.js/umd/popper.min.js') }}"> </script>
            <script src="{{ url_for('static', filename='vendor/bootstrap/js/bootstrap.min.js') }}"></script>
            <script src="{{ url_for('static', filename='vendor/jquery.cookie/jquery.cookie.js') }}"> </script>
            <script src="{{ url_for('static', filename='vendor/jquery-validation/jquery.validate.min.js') }}"></script>
            <script src="{{ url_for('static', filename='vendor/bootstrap-select/js/bootstrap-select.min.js') }}"></script>
            <script src="{{ url_for('static', filename='vendor/select2/js/select2.full.min.js') }}"></script>
            <script src="{{ url_for('static', filename='vendor/moment/min/moment-with-locales.min.js') }}"></script>
        {% else %}
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha256-98vAGjEDGN79TjHkYWVD4s87rvWkdWLHPs5MC3FvFX4=" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha256-C8oQVJ33cKtnkARnmeWp6SDChkU+u7KvsNMFUzkkUzk=" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js" integrity="sha256-1A78rJEdiWTzco6qdn3igTBv9VupN3Q1ozZNTR4WE/Y=" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js" integrity="sha256-F6h55Qw6sweK+t7SiOJX+2bpSAa3b/fnlrVCJvmEj1A=" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/js/bootstrap-select.min.js" integrity="sha256-19J3rT3tQdidgtqqdQ3xNu++Gd7EoP/ag/0x1lHi0xY=" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.5/js/select2.full.min.js" integrity="sha256-FcVIknBiVRk5KLQeIBb9VQdtFRMqwffXyZ+D8q0gQro=" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.1/moment-with-locales.min.js" integrity="sha256-ZykW30UBCXWkPGsVyVPdJlUrce9/PawgYCEzinA4pnU=" crossorigin="anonymous"></script>
        {% endif %}
        <!--{{ moment.include_moment() }}-->
        <script>
            moment.locale("{{ user.locale}}");
            function flask_moment_render(elem) {
                $(elem).text(eval('moment("' + $(elem).data('timestamp') + '").' + $(elem).data('format') + ';'));
                $(elem).removeClass('flask-moment').show();
            }
            function flask_moment_render_all() {
                $('.flask-moment').each(function() {
                    flask_moment_render(this);
                    if ($(this).data('refresh')) {
                        (function(elem, interval) { setInterval(function() { flask_moment_render(elem) }, interval); })(this, $(this).data('refresh'));
                    }
                })
            }
            $(document).ready(function() {
                flask_moment_render_all();
            });
        </script>
        {% if option_local_libs %}
            <script src="{{ url_for('static', filename='vendor/chart.js/Chart.min.js') }}"></script>


            <!-- Notifications-->
            <script src="{{ url_for('static', filename='vendor/messenger-hubspot/build/js/messenger.min.js') }}"></script>
            <script src="{{ url_for('static', filename='vendor/messenger-hubspot/build/js/messenger-theme-flat.js') }}"></script>

            <!-- Loading buttons-->
            <script src="{{ url_for('static', filename='vendor/ladda/spin.min.js') }}"></script>
            <script src="{{ url_for('static', filename='vendor/ladda/ladda.min.js') }}"></script>
        {% else %}
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js" integrity="sha256-CfcERD4Ov4+lKbWbYqXD6aFM9M51gN4GUEtDhkWABMo=" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/messenger/1.5.0/js/messenger.min.js" integrity="sha256-BnQeGKS32Pt/mkLkk742fNXjfLN5/4OOd3L9PAf5d3s=" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/messenger/1.5.0/js/messenger-theme-flat.min.js" integrity="sha256-9+mTJjBhIGZ4XBX9mjU8hBuIwNMLwBibBCKR1HVoAi8=" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Ladda/1.0.6/spin.min.js" integrity="sha256-oNtUmAZAsXy3Pg53xwfYE1YYgfdktOImDPd57g6Ldek=" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Ladda/1.0.6/ladda.min.js" integrity="sha256-xqr6dAl11yzo9ssVFuVopsFNB/WWyFPb9sNOolhq43Q=" crossorigin="anonymous"></script>
        {% endif %}
        <!-- Main File-->
        {% block body_scripts %}
        {% endblock %}
    </body>
</html>